<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Славяно-арийский Календарь Числобога</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"></script>
    <script src="../kalendar.js" type="text/javascript"></script>

</head>
<body>

<div class="container" style="padding-bottom: 70px; padding-top: 50px;">
    <div class="col-lg-12">
        <h1 class="page-header">Славяно-арийский Календарь Числобога</h1>

        <p><button class="btn btn-success buttonCalc">Посчитать</button></p>

        <div class="row">
            <div class="col-lg-2">
                <input class="form-control" id="year" placeholder="Год..."></input>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12" >
                <p id="result"></p>
            </div>
        </div>
        <script>
            $(document).ready(function (e) {
                /**
                 * Каждое Лѣто имеет своё название. Сейчас Лѣто " Солнечного (Златого) Дракона ".
                 * Чтобы это проверить, по таблице ДКЧ нужно к году от Р.Х. прибавить 5508, а если уже прошел день
                 * осеннего равноденствия, то прибавить 5509. И от полученного отнять 7376, если расчёт до 2012 года
                 * или 7520, если расчёт после 2012 года. Получим Лѣто 8 . По таблице ДКЧ находим,
                 * что числу 8 соответствует Лѣто " Солнечного (Златого) Дракона ".
                 */
                $('.buttonCalc').click(function (e) {
                    var y = parseInt($('#year').val());
                    var y1 = y + 5508;
                    var y4 = y1 - (7376 - (144*20) );

                    var y2 = parseInt(y4/144);
                    var y3 = y4 - (y2 * 144);
                    console.log([y1, y2, y3]);

                    var element_int = 0;
                    var element_str = '';
                    var Krug_Zizni = y3;

                    //
                    //	можно теперь и со стихиями определиться (девять залов):
                    //
                    if ($.inArray(Krug_Zizni, [1, 2, 19, 20, 37, 38, 55, 56, 73, 74, 91, 92, 109, 110, 127, 128]) >= 0) {
                        Krug = "Земного (Черного)";
                        element_str = "Земного (Черного)";
                        element_int = 1;
                    }
                    if ($.inArray(Krug_Zizni, [129, 130, 3, 4, 21, 22, 39, 40, 57, 58, 75, 76, 93, 94, 111, 112]) >= 0) {
                        Krug = "Звездного (Красного)";
                        element_str = "Звездного (Красного)";
                        element_int = 2;
                    }
                    if ($.inArray(Krug_Zizni, [113, 131, 5, 23, 41, 59, 77, 95, 114, 132, 6, 24, 42, 60, 78, 96]) >= 0) {
                        Krug = "Огненного (Алого)";
                        element_str = "Огненного (Алого)";
                        element_int = 3;
                    }
                    if ($.inArray(Krug_Zizni, [97, 98, 115, 116, 133, 134, 7, 8, 25, 26, 43, 44, 61, 62, 79, 80]) >= 0) {
                        Krug = "Солнечного (Златого)";
                        element_str = "Солнечного (Златого)";
                        element_int = 4;
                    }
                    if ($.inArray(Krug_Zizni, [81, 99, 117, 135, 9, 27, 45, 63, 82, 100, 118, 136, 10, 28, 46, 64]) >= 0) {
                        Krug = "Древесного (Зеленого)";
                        element_str = "Древесного (Зеленого)";
                        element_int = 5;
                    }
                    if ($.inArray(Krug_Zizni, [65, 83, 101, 119, 137, 11, 29, 47, 66, 84, 102, 120, 138, 12, 30, 48]) >= 0) {
                        Krug = "Свага (Небесного)";
                        element_str = "Свага (Небесного)";
                        element_int = 6;
                    }
                    if ($.inArray(Krug_Zizni, [49, 67, 85, 103, 121, 139, 13, 31, 50, 68, 86, 104, 122, 140, 14, 32]) >= 0) {
                        Krug = "Морского (Синего)";
                        element_str = "Морского (Синего)";
                        element_int = 7;
                    }
                    if ($.inArray(Krug_Zizni, [33, 51, 69, 87, 105, 123, 141, 15, 34, 52, 70, 88, 106, 124, 142, 16]) >= 0) {
                        Krug = "Лунного (Фиолетового)";
                        element_str = "Лунного (Фиолетового)";
                        element_int = 8;
                    }
                    if ($.inArray(Krug_Zizni, [17, 35, 53, 71, 89, 107, 125, 143, 18, 36, 54, 72, 90, 108, 126, 144]) >= 0) {
                        Krug = "Божественного (Белого)";
                        element_str = "Божественного (Белого)";
                        element_int = 9;
                    }

                    // шестнадцать хором:
                    var image_int = 0;
                    var image_str = '';

                    if ($.inArray(Krug_Zizni, [1, 129, 113, 97, 81, 65, 49, 33, 17]) >= 0) {
                        Krug = Krug + " Странника (Пути) ";
                        image_str = "Странника (Пути)";
                        image_int = 1;
                    }
                    if ($.inArray(Krug_Zizni, [2, 130, 114, 98, 82, 66, 50, 34, 18]) >= 0) {
                        Krug = Krug + " Жреца ";
                        image_str = "Жрец";
                        image_int = 2;
                    }
                    if ($.inArray(Krug_Zizni, [19, 3, 131, 115, 99, 83, 67, 51, 35]) >= 0) {
                        Krug = Krug + " Жрицы (Девы) ";
                        image_str = "Жрица (Дева)";
                        image_int = 3;
                    }
                    if ($.inArray(Krug_Zizni, [20, 4, 132, 116, 100, 84, 68, 52, 36]) >= 0) {
                        Krug = Krug + " Мира (Яви) ";
                        image_str = "Мiр (Явь)";
                        image_int = 4;
                    }
                    if ($.inArray(Krug_Zizni, [37, 21, 5, 133, 117, 101, 85, 69, 53]) >= 0) {
                        Krug = Krug + " Свитока ";
                        image_str = "Свиток";
                        image_int = 5;
                    }
                    if ($.inArray(Krug_Zizni,  [38, 22, 6, 134, 118, 102, 86, 70, 54]) >= 0) {
                        Krug = Krug + " Феникса ";
                        image_str = "Феникс";
                        image_int = 6;
                    }
                    if ($.inArray(Krug_Zizni, [55, 39, 23, 7, 135, 119, 103, 87, 71]) >= 0) {
                        Krug = Krug + " Лиса (Навь) ";
                        image_str = "Лис (Навь)";
                        image_int = 7;
                    }
                    if ($.inArray(Krug_Zizni, [56, 40, 24, 8, 136, 120, 104, 88, 72]) >= 0) {
                        Krug = Krug + " Дракона ";
                        image_str = "Дракон";
                        image_int = 8;
                    }
                    if ($.inArray(Krug_Zizni, [73, 57, 41, 25, 9, 137, 121, 105, 89]) >= 0) {
                        Krug = Krug + " Змея ";
                        image_str = "Змей";
                        image_int = 9;
                    }
                    if ($.inArray(Krug_Zizni, [74, 58, 42, 26, 10, 138, 122, 106, 90]) >= 0) {
                        Krug = Krug + " Орла ";
                        image_str = "Орёл";
                        image_int = 10;
                    }
                    if ($.inArray(Krug_Zizni, [91, 75, 59, 43, 27, 11, 139, 123, 107]) >= 0) {
                        Krug = Krug + " Дельфина ";
                        image_str = "Дельфин";
                        image_int = 11;
                    }
                    if ($.inArray(Krug_Zizni, [92, 76, 60, 44, 28, 12, 140, 124, 108]) >= 0) {
                        Krug = Krug + " Коня ";
                        image_str = "Конь";
                        image_int = 12;
                    }
                    if ($.inArray(Krug_Zizni, [109, 93, 77, 61, 45, 29, 13, 141, 125]) >= 0) {
                        Krug = Krug + " Пса ";
                        image_str = "Пёс";
                        image_int = 13;
                    }
                    if ($.inArray(Krug_Zizni, [110, 94, 78, 62, 46, 30, 14, 142, 126]) >= 0) {
                        Krug = Krug + " Тура (быка) ";
                        image_str = "Тур (бык)";
                        image_int = 14;
                    }
                    if ($.inArray(Krug_Zizni, [127, 111, 95, 79, 63, 47, 31, 15, 143]) >= 0) {
                        Krug = Krug + " Хоромы (дом) ";
                        image_str = "Хоромы (дом)";
                        image_int = 15;
                    }
                    if ($.inArray(Krug_Zizni, [128, 112, 96, 80, 64, 48, 32, 16, 144]) >= 0) {
                        Krug = Krug + " Капище (храм) ";
                        image_str = "Капище (храм)";
                        image_int = 16;
                    }

                    $('#result').html(y1 + ' ' + image_int + ' ' + image_str + '<br>' + element_int + ' ' + element_str);

                });
            });
        </script>
    </div>
</div>

</body>
</html>